<Page x:Class="AnimeQuoteWall.GUI.Pages.WallpaperPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Static Wallpaper Generator">
    <Grid Margin="24,20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*" MinHeight="300"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Preview Section Header -->
        <TextBlock Grid.Row="0"
                   Text="Wallpaper Preview"
                   FontSize="22"
                   FontWeight="Bold"
                   Foreground="{StaticResource TextPrimary}"
                   Margin="0,0,0,20"/>

        <!-- Wallpaper Preview Card -->
        <Border Grid.Row="1"
                Background="{StaticResource HoverBackground}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="2"
                CornerRadius="12"
                Margin="0,0,0,20"
                Padding="6"
                MinHeight="400">
            <Border.Effect>
                <DropShadowEffect Color="#1E293B" Opacity="0.06" BlurRadius="8" ShadowDepth="1"/>
            </Border.Effect>
            <Grid>
                <ScrollViewer x:Name="PreviewScrollViewer"
                              HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Auto"
                              PanningMode="Both"
                              MouseWheel="PreviewScrollViewer_MouseWheel"
                              SizeChanged="PreviewScrollViewer_SizeChanged">
                    <Image x:Name="WallpaperPreview"
                           Stretch="Uniform"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           RenderTransformOrigin="0.5,0.5"
                           MaxWidth="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=ScrollViewer}}"
                           MaxHeight="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=ScrollViewer}}">
                        <Image.RenderTransform>
                            <ScaleTransform x:Name="PreviewScaleTransform" ScaleX="1" ScaleY="1"/>
                        </Image.RenderTransform>
                    </Image>
                </ScrollViewer>
                <Border x:Name="NoPreviewBorder"
                        Background="Transparent"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                    <StackPanel>
                        <TextBlock Text="ðŸŽ¨"
                                   FontSize="48"
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,12"
                                   Opacity="0.3"/>
                        <TextBlock x:Name="NoPreviewText"
                                   Text="No wallpaper generated yet.&#x0a;Click 'Generate New Wallpaper' to create one!"
                                   FontSize="15"
                                   Foreground="{StaticResource TextTertiary}"
                                   HorizontalAlignment="Center"
                                   TextAlignment="Center"
                                   TextWrapping="Wrap"
                                   MaxWidth="400"
                                   LineHeight="24"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Margin="0,8,0,0">
            <Button x:Name="GenerateButton"
                    MinWidth="200"
                    Height="44"
                    Click="GenerateButton_Click"
                    Style="{StaticResource ModernPrimaryButton}"
                    Padding="16,10">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âš¡" FontSize="16" Margin="0,0,8,0" FontFamily="Segoe UI Emoji"/>
                    <TextBlock Text="Generate New Wallpaper" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button x:Name="RefreshButton"
                    MinWidth="140"
                    Height="44"
                    Click="RefreshButton_Click"
                    Style="{StaticResource ModernSecondaryButton}"
                    Margin="10,0,0,0"
                    Padding="14,10">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ”„" FontSize="16" Margin="0,0,6,0" FontFamily="Segoe UI Emoji"/>
                    <TextBlock Text="Refresh" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button x:Name="ApplyButton"
                    MinWidth="180"
                    Height="44"
                    Click="ApplyButton_Click"
                    Style="{StaticResource ModernSuccessButton}"
                    Margin="10,0,0,0"
                    Padding="14,10">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âœ¨" FontSize="16" Margin="0,0,6,0" FontFamily="Segoe UI Emoji"/>
                    <TextBlock Text="Apply as Wallpaper" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <StackPanel Orientation="Horizontal" Margin="12,0,0,0">
                <Button x:Name="ZoomInButton"
                        Width="44"
                        Height="44"
                        Click="ZoomInButton_Click"
                        Style="{StaticResource ModernSecondaryButton}"
                        ToolTip="Zoom In"
                        Padding="0">
                    <TextBlock Text="ðŸ”+" FontSize="16" FontFamily="Segoe UI Emoji"/>
                </Button>
                <Button x:Name="ZoomOutButton"
                        Width="44"
                        Height="44"
                        Click="ZoomOutButton_Click"
                        Style="{StaticResource ModernSecondaryButton}"
                        Margin="6,0,0,0"
                        ToolTip="Zoom Out"
                        Padding="0">
                    <TextBlock Text="ðŸ”âˆ’" FontSize="16" FontFamily="Segoe UI Emoji"/>
                </Button>
                <Button x:Name="ZoomResetButton"
                        Width="44"
                        Height="44"
                        Click="ZoomResetButton_Click"
                        Style="{StaticResource ModernSecondaryButton}"
                        Margin="6,0,0,0"
                        ToolTip="Reset Zoom"
                        Padding="0">
                    <TextBlock Text="â†º" FontSize="18"/>
                </Button>
                <Button x:Name="CompareButton"
                        MinWidth="110"
                        Height="44"
                        Click="CompareButton_Click"
                        Style="{StaticResource ModernSecondaryButton}"
                        Margin="6,0,0,0"
                        ToolTip="Compare with previous wallpaper"
                        Padding="12,10">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ”„" FontSize="14" Margin="0,0,4,0" FontFamily="Segoe UI Emoji"/>
                        <TextBlock Text="Compare" VerticalAlignment="Center" FontSize="13"/>
                    </StackPanel>
                </Button>
            </StackPanel>
            <TextBlock x:Name="ZoomLevelText"
                       Text="100%"
                       FontSize="13"
                       FontWeight="Medium"
                       Foreground="{StaticResource TextSecondary}"
                       VerticalAlignment="Center"
                       Margin="14,0,0,0"
                       MinWidth="45"
                       TextAlignment="Center"/>
        </StackPanel>
    </Grid>
</Page>

